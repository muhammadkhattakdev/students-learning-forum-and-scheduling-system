{% extends 'forumPages/base.html' %}
{% load static %}

{% block content %}
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

<div class="write-post-page-wrapper">
    <h2>Write a Forum Post</h2>
    <form id="post-form" action="{% url 'create_forum_post' %}" method="POST">
        {% csrf_token %}
        
        <div id="editor-container" style="height: 300px; border: 1px solid #ccc;"></div>
        
        <!-- Hidden input to store editor content -->
        <input type="hidden" name="content" id="content-input">
        
        <button type="submit" class="btn-submit">Submit Post</button>
    </form>
</div>

<script>
    var quill = new Quill('#editor-container', {
        theme: 'snow'
    });

    // Update the hidden input before submitting the form
    document.getElementById('post-form').onsubmit = function () {
        document.getElementById('content-input').value = quill.root.innerHTML;
    };
</script>

{% endblock %}
